users:
  - user: hik-vision
    password: <<USER1_PASSWORD>>
    bucket: napbiotec-sftp

sftp-gcs:
  enabled: true
  nameOverride: sftp-gcs

  service:
    enabled: true
    ports:
      - port: 2022
        targetPort: sftp
        protocol: TCP
        name: sftp

  pods:
    controller: deployment
    image:
      name: danuk/k8s-sftp-gcs
      tag: latest
    ports:
      - name: sftp
        containerPort: 22
        protocol: TCP

    env: []
    #  - name: GEOIP_REDIS_HOST
    #    value: redis-master

    volumeMounts:
      - mountPath: /etc/sftp
        name: users
      - mountPath: /etc/sftp.d/
        name: gcs-mounts
      - mountPath: /credentials
        name: sftp-gcloud-key
      - name: ssh-key
        mountPath: /etc/ssh/ssh_host_rsa_key
        subPath: ssh_host_rsa_key

    volumes:
      - name: users
        configMap:
          name: users
      - name: gcs-mounts
        configMap:
          name: gcs-mounts
          defaultMode: 0744
      - name: sftp-gcloud-key
        secret:
          secretName: sftp-gcloud-key
      - name: ssh-key
        secret:
          secretName: ssh-secret-key
          defaultMode: 0400
